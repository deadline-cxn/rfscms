<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RFSCMSAPIDocumentation: lib.images.php Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">RFSCMSAPIDocumentation
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('lib_8images_8php.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">lib.images.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="lib_8images_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?<span class="comment"></span>
<a name="l00002"></a>00002 <span class="comment">/////////////////////////////////////////////////////////////////////////////////////////</span>
<a name="l00003"></a>00003 <span class="comment"></span><span class="comment">// RFSCMS http://www.sethcoder.com/</span><span class="comment"></span>
<a name="l00004"></a>00004 <span class="comment">/////////////////////////////////////////////////////////////////////////////////////////</span>
<a name="l00005"></a>00005 <span class="comment"></span><span class="keywordflow">if</span>(array_pop(explode(<span class="stringliteral">&quot;/&quot;</span>,getcwd()))==<span class="stringliteral">&quot;include&quot;</span>) chdir(<span class="stringliteral">&quot;..&quot;</span>);
<a name="l00006"></a>00006 include_once(<span class="stringliteral">&quot;include/lib.div.php&quot;</span>);
<a name="l00007"></a>00007 include_once(<span class="stringliteral">&quot;config/config.php&quot;</span>);
<a name="l00008"></a>00008 include_once(<span class="stringliteral">&quot;include/session.php&quot;</span>);
<a name="l00009"></a>00009 lib_div(__FILE__); 
<a name="l00010"></a>00010 <span class="keywordflow">if</span>(isset($act)) {
<a name="l00011"></a>00011     <span class="keywordflow">if</span>($act==<span class="stringliteral">&quot;select_image_go&quot;</span>) {
<a name="l00012"></a>00012         include(<span class="stringliteral">&quot;lib.all.php&quot;</span>);
<a name="l00013"></a>00013         $npath=<a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>].<span class="stringliteral">&quot;/&quot;</span>.$npath;
<a name="l00014"></a>00014         $npath=str_replace(<a class="code" href="config_8sitevars_8php.html#a0304f1c6ce0928c6dda1a31ca21a58ae">$RFS_SITE_PATH</a>,<span class="stringliteral">&quot;&quot;</span>,$npath);
<a name="l00015"></a>00015         echo <span class="stringliteral">&quot;Image changed to $npath&lt;BR&gt;&quot;</span>;
<a name="l00016"></a>00016         echo <span class="stringliteral">&quot;&lt;br&gt;$rtnpage , $rtnact, $table, $id, $image_field, $npath &lt;br&gt;&quot;</span>;
<a name="l00017"></a>00017         $q=<span class="stringliteral">&quot;update `$table` set `$image_field` = &#39;$npath&#39; where `id`=&#39;$id&#39;&quot;</span>;
<a name="l00018"></a>00018         echo $q;
<a name="l00019"></a>00019         <a class="code" href="lib_8mysql_8php.html#a06fb53fc71e262dce115fd3a98bcecdd">lib_mysql_query</a>($q);
<a name="l00020"></a>00020         echo <span class="stringliteral">&quot;&lt;META HTTP-EQUIV=\&quot;refresh\&quot; content=\&quot;0;URL=$RFS_SITE_URL/$rtnpage?action=$rtnact\&quot;&gt;&quot;</span>;
<a name="l00021"></a>00021         exit();
<a name="l00022"></a>00022     }
<a name="l00023"></a>00023     <span class="keywordflow">if</span>($act==<span class="stringliteral">&quot;select_image_chdir&quot;</span>) {
<a name="l00024"></a>00024         include(<span class="stringliteral">&quot;lib.all.php&quot;</span>);
<a name="l00025"></a>00025         <a class="code" href="lib_8images_8php.html#a0d6f901473d1ea8dda41bc1d7ef423af">lib_images_select</a>($npath, $rtnpage, $rtnact, $table, $id, $image_field);
<a name="l00026"></a>00026     }
<a name="l00027"></a>00027 }
<a name="l00028"></a><a class="code" href="lib_8images_8php.html#a0d6f901473d1ea8dda41bc1d7ef423af">00028</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a0d6f901473d1ea8dda41bc1d7ef423af">lib_images_select</a>($npath, $rtnpage, $rtnact, $table, $id, $image_field) { eval(<a class="code" href="lib_8rfs_8php.html#acffda4746c06a226d1b11dca941bcfe1">lib_rfs_get_globals</a>());
<a name="l00029"></a>00029     <span class="keywordflow">if</span>(!stristr(<a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>],<a class="code" href="config_8sitevars_8php.html#a0304f1c6ce0928c6dda1a31ca21a58ae">$RFS_SITE_PATH</a>))
<a name="l00030"></a>00030         <a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>]=<a class="code" href="config_8sitevars_8php.html#a0304f1c6ce0928c6dda1a31ca21a58ae">$RFS_SITE_PATH</a>.$_SESSION[<span class="stringliteral">&#39;select_image_path&#39;</span>];
<a name="l00031"></a>00031     <span class="keywordflow">if</span>($npath==<span class="stringliteral">&quot;..&quot;</span>){
<a name="l00032"></a>00032         $dx=explode(<span class="stringliteral">&quot;/&quot;</span>,<a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>]);
<a name="l00033"></a>00033         $dp=array_pop($dx);
<a name="l00034"></a>00034         <a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>]=join(<span class="stringliteral">&quot;/&quot;</span>,$dx);
<a name="l00035"></a>00035         echo <a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>].<span class="stringliteral">&quot;2&lt;BR&gt;&quot;</span>;
<a name="l00036"></a>00036     }
<a name="l00037"></a>00037     <span class="keywordflow">else</span> {
<a name="l00038"></a>00038         $dc=<a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>].<span class="stringliteral">&quot;/&quot;</span>.$npath;
<a name="l00039"></a>00039         echo $dc.<span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;
<a name="l00040"></a>00040         <span class="keywordflow">if</span>( (filetype($dc)==<span class="stringliteral">&quot;dir&quot;</span>) ||
<a name="l00041"></a>00041             (filetype($dc)==<span class="stringliteral">&quot;link&quot;</span>) ) {
<a name="l00042"></a>00042             <a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>]=$dc;
<a name="l00043"></a>00043         }
<a name="l00044"></a>00044     }
<a name="l00045"></a>00045     $wh=<a class="code" href="lib_8mysql_8php.html#a80af159483fec4094697cef8c5c187a6">lib_mysql_fetch_one_object</a>(<span class="stringliteral">&quot;select * from `$table` where id=&#39;$id&#39;&quot;</span>);
<a name="l00046"></a>00046     echo <span class="stringliteral">&quot;Select Image for (Table $table id[$id] ($wh-&gt;name) field[$image_field])&lt;br&gt;&quot;</span>;
<a name="l00047"></a>00047     $thispath=<a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>];
<a name="l00048"></a>00048     echo <span class="stringliteral">&quot;$thispath&lt;br&gt;&quot;</span>;
<a name="l00049"></a>00049     $dir_count=0;
<a name="l00050"></a>00050     $dirfiles = array();
<a name="l00051"></a>00051     $handle=opendir($thispath) or die(<span class="stringliteral">&quot;Unable to open filepath&quot;</span>);
<a name="l00052"></a>00052     <span class="keywordflow">while</span> (<span class="keyword">false</span>!==(<a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a> = readdir($handle))) array_push($dirfiles,<a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>);
<a name="l00053"></a>00053     closedir($handle);
<a name="l00054"></a>00054     reset($dirfiles);
<a name="l00055"></a>00055     asort($dirfiles);
<a name="l00056"></a>00056     <span class="keywordflow">while</span>(list ($key, <a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>) = each ($dirfiles)){
<a name="l00057"></a>00057         <span class="keywordflow">if</span>(<a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>!=<span class="stringliteral">&quot;.&quot;</span>) {
<a name="l00058"></a>00058                 $op=<span class="stringliteral">&quot;$thispath/$file&quot;</span>;
<a name="l00059"></a>00059                 $ot=<a class="code" href="wab_8php.html#a7e78406241b519489b23a8c902b4a8de">$_SESSION</a>[<span class="stringliteral">&#39;select_image_path&#39;</span>].<span class="stringliteral">&quot;/$file&quot;</span>;
<a name="l00060"></a>00060                 <span class="keywordflow">if</span>( (@filetype(<span class="stringliteral">&quot;$op&quot;</span>)==<span class="stringliteral">&quot;dir&quot;</span>) ||
<a name="l00061"></a>00061                     (@filetype(<span class="stringliteral">&quot;$op&quot;</span>)==<span class="stringliteral">&quot;link&quot;</span>) ) {
<a name="l00062"></a>00062                    $out=<span class="stringliteral">&quot;act=select_image_chdir&amp;rtnpage=$rtnpage&amp;rtnact=$rtnact&amp;id=$id&amp;npath=&quot;</span>;
<a name="l00063"></a>00063                    $out.=urlencode(<a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>);
<a name="l00064"></a>00064                    $out.=<span class="stringliteral">&quot;&amp;table=$table&amp;image_field=$image_field&amp;spath=$RFS_SITE_PATH&quot;</span>;
<a name="l00065"></a>00065                    echo <span class="stringliteral">&quot;&lt;a href=&#39;$RFS_SITE_URL/include/lib.images.php?$out&#39;&gt;</span>
<a name="l00066"></a>00066 <span class="stringliteral">                   &lt;img src=&#39;$RFS_SITE_URL/images/icons/Folder.png&#39; width=32&gt;($file)&lt;/a&gt;&quot;</span>;
<a name="l00067"></a>00067                             }
<a name="l00068"></a>00068                         }
<a name="l00069"></a>00069                     }
<a name="l00070"></a>00070                     echo <span class="stringliteral">&quot;&lt;hr&gt;&quot;</span>;
<a name="l00071"></a>00071                     reset($dirfiles);
<a name="l00072"></a>00072                     asort($dirfiles);
<a name="l00073"></a>00073                     <span class="keywordflow">while</span>(list ($key, <a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>) = each ($dirfiles)){
<a name="l00074"></a>00074                     <span class="keywordflow">if</span>(<a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>!=<span class="stringliteral">&quot;.&quot;</span>) <span class="keywordflow">if</span>(<a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>!=<span class="stringliteral">&quot;..&quot;</span>) {
<a name="l00075"></a>00075                             $op=<span class="stringliteral">&quot;$thispath/$file&quot;</span>;
<a name="l00076"></a>00076                             <span class="keywordflow">if</span>(@filetype(<span class="stringliteral">&quot;$op&quot;</span>)==<span class="stringliteral">&quot;file&quot;</span>) {
<a name="l00077"></a>00077 
<a name="l00078"></a>00078                                 $ft = <a class="code" href="lib_8file_8php.html#a960b31b67a167c60b18a2cf75d408987">lib_file_getfiletype</a>($op);
<a name="l00079"></a>00079                                 <span class="comment">// echo &quot;$ft&lt;br&gt;&quot;;</span>
<a name="l00080"></a>00080                 <span class="keywordflow">if</span>( ($ft==<span class="stringliteral">&quot;jpg&quot;</span>) || ($ft==<span class="stringliteral">&quot;png&quot;</span>) || ($ft==<span class="stringliteral">&quot;gif&quot;</span>) || ($ft==<span class="stringliteral">&quot;ico&quot;</span>) || ($ft==<span class="stringliteral">&quot;bmp&quot;</span>) ||($ft==<span class="stringliteral">&quot;jpeg&quot;</span>) ){
<a name="l00081"></a>00081                     $out=<span class="stringliteral">&quot;act=select_image_go&amp;rtnpage=$rtnpage&amp;rtnact=$rtnact&amp;id=$id&amp;npath=&quot;</span>;
<a name="l00082"></a>00082                     $out.=urlencode(<a class="code" href="thumbnail_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>);
<a name="l00083"></a>00083                     $out.=<span class="stringliteral">&quot;&amp;table=$table&amp;image_field=$image_field&amp;spath=$RFS_SITE_PATH&quot;</span>;
<a name="l00084"></a>00084                     echo <span class="stringliteral">&quot;&lt;a href=&#39;$RFS_SITE_URL/include/lib.images.php?$out&#39;&gt;&lt;img src=&#39;$RFS_SITE_URL/include/button.php?im=&quot;</span>.$_SESSION[<span class="stringliteral">&#39;select_image_path&#39;</span>].<span class="stringliteral">&quot;/$file&amp;t=$file&amp;w=96&amp;h=96&amp;y=90&amp;fcr=1&amp;fcg=255&amp;fcb=1&#39; border=0&gt;&lt;/a&gt;&quot;</span>;
<a name="l00085"></a>00085                 }
<a name="l00086"></a>00086             }
<a name="l00087"></a>00087         }
<a name="l00088"></a>00088     }
<a name="l00089"></a>00089     <span class="keywordflow">for</span>($xyz=0;$xyz&lt;20;$xyz++) echo <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;
<a name="l00090"></a>00090 }
<a name="l00091"></a><a class="code" href="lib_8images_8php.html#a2c15f4d43224ce41744755721bd52669">00091</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a2c15f4d43224ce41744755721bd52669">lib_images_html2rgb</a>($color) {
<a name="l00092"></a>00092     <span class="keywordflow">if</span> ($color[0] == <span class="charliteral">&#39;#&#39;</span>) $color = substr($color, 1);
<a name="l00093"></a>00093     <span class="keywordflow">if</span> (strlen($color) == 6)     list(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>, $g, <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>) = array($color[0].$color[1],$color[2].$color[3],$color[4].$color[5]);
<a name="l00094"></a>00094     elseif (strlen($color) == 3) list(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>, $g, <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>) = array($color[0].$color[0], $color[1].$color[1], $color[2].$color[2]);
<a name="l00095"></a>00095     <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>; <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a> = hexdec(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>); $g = hexdec($g); <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a> = hexdec(<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>);
<a name="l00096"></a>00096     <span class="keywordflow">return</span> array(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>, $g, <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>);
<a name="l00097"></a>00097 }
<a name="l00098"></a><a class="code" href="lib_8images_8php.html#a265360f3e750a4009a09c241b4fd4deb">00098</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a265360f3e750a4009a09c241b4fd4deb">lib_images_rgb2html</a>(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>, $g=-1, <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>=-1){
<a name="l00099"></a>00099     <span class="keywordflow">if</span> (is_array(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>) &amp;&amp; <span class="keyword">sizeof</span>(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>) == 3)
<a name="l00100"></a>00100         list(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>, $g, <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>) = <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>;
<a name="l00101"></a>00101     <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a> = intval(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>); $g = intval($g);
<a name="l00102"></a>00102     <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a> = intval(<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>);
<a name="l00103"></a>00103     <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a> = dechex(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>&lt;0?0:(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>&gt;255?255:<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>));
<a name="l00104"></a>00104     $g = dechex($g&lt;0?0:($g&gt;255?255:$g));
<a name="l00105"></a>00105     <a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a> = dechex(<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>&lt;0?0:(<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>&gt;255?255:<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>));
<a name="l00106"></a>00106     $color = (strlen(<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>) &lt; 2?<span class="charliteral">&#39;0&#39;</span>:<span class="stringliteral">&#39;&#39;</span>).<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>;
<a name="l00107"></a>00107     $color .= (strlen($g) &lt; 2?<span class="charliteral">&#39;0&#39;</span>:<span class="stringliteral">&#39;&#39;</span>).$g;
<a name="l00108"></a>00108     $color .= (strlen(<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>) &lt; 2?<span class="charliteral">&#39;0&#39;</span>:<span class="stringliteral">&#39;&#39;</span>).<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>;
<a name="l00109"></a>00109     <span class="keywordflow">return</span> <span class="charliteral">&#39;#&#39;</span>.$color;
<a name="l00110"></a>00110 }
<a name="l00111"></a><a class="code" href="lib_8images_8php.html#a62b122b322eb4c53e1fd11e1289b931d">00111</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a62b122b322eb4c53e1fd11e1289b931d">lib_images_thumb</a>($zimg,<a class="code" href="video__wall_8php.html#a7baa3e54d17390d4a3dbc0ee84e4c155">$w</a>,<a class="code" href="video__wall_8php.html#ab00da9d5d8bd5b6b944793e093860aff">$h</a>,<a class="code" href="sp_8php.html#a50b05cf2e02ef0b67fcad97106dd7634">$s</a>) { eval(<a class="code" href="lib_8rfs_8php.html#acffda4746c06a226d1b11dca941bcfe1">lib_rfs_get_globals</a>());
<a name="l00112"></a>00112 <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>=<span class="stringliteral">&quot;&lt;img src=&#39;$RFS_SITE_URL/include/thumbnail.php/thumb.$zimg?img=$zimg&amp;w=$w&amp;h=$h&amp;scale=$s&#39; class=&#39;rfs_thumb&#39;&gt;&quot;</span>;
<a name="l00113"></a>00113 <span class="keywordflow">return</span> <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>;
<a name="l00114"></a>00114 }
<a name="l00115"></a><a class="code" href="lib_8images_8php.html#a953662697d7c21da4b665b456eddb00e">00115</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a953662697d7c21da4b665b456eddb00e">lib_images_thumb_raw</a>($zimg,<a class="code" href="video__wall_8php.html#a7baa3e54d17390d4a3dbc0ee84e4c155">$w</a>,<a class="code" href="video__wall_8php.html#ab00da9d5d8bd5b6b944793e093860aff">$h</a>,<a class="code" href="sp_8php.html#a50b05cf2e02ef0b67fcad97106dd7634">$s</a>) { eval(<a class="code" href="lib_8rfs_8php.html#acffda4746c06a226d1b11dca941bcfe1">lib_rfs_get_globals</a>());
<a name="l00116"></a>00116 <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>=<span class="stringliteral">&quot;$RFS_SITE_URL/include/thumbnail.php/thumb.$zimg?img=$zimg&amp;w=$w&amp;h=$h&amp;scale=$s&quot;</span>;
<a name="l00117"></a>00117 <span class="keywordflow">return</span> <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>;
<a name="l00118"></a>00118 }
<a name="l00119"></a><a class="code" href="lib_8images_8php.html#a384395ae4e29121a66e46b948c7eec18">00119</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a384395ae4e29121a66e46b948c7eec18">lib_images_text_s</a>($text,$font,<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>,$g,<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>){
<a name="l00120"></a>00120     echo <a class="code" href="lib_8images_8php.html#a6abdd7a0df8f66716fbcc3b2685f4f19">lib_images_text_rt</a>($text,$font,18,222,222,-10,-10,<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>,$g,<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>,0,0,0,1,0);
<a name="l00121"></a>00121 }
<a name="l00122"></a><a class="code" href="lib_8images_8php.html#a2748a230da337616f8b2ae8fd0d292cf">00122</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a2748a230da337616f8b2ae8fd0d292cf">lib_images_text_s_rt</a>($text,$font,<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>,$g,<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>){
<a name="l00123"></a>00123     <span class="keywordflow">return</span> <a class="code" href="lib_8images_8php.html#a6abdd7a0df8f66716fbcc3b2685f4f19">lib_images_text_rt</a>($text,$font,18,222,222,-10,-10,<a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>,$g,<a class="code" href="database__upgrades_8php.html#ab9eb087b791749ae45deabb0899b7ccc">$b</a>,0,0,0,1,0);
<a name="l00124"></a>00124 }
<a name="l00125"></a><a class="code" href="lib_8images_8php.html#a52e7c029a7a270bf973acfd7f7f1f65f">00125</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a52e7c029a7a270bf973acfd7f7f1f65f">lib_images_text</a>( $text, $font,$fontsize, <a class="code" href="video__wall_8php.html#a7baa3e54d17390d4a3dbc0ee84e4c155">$w</a>,<a class="code" href="video__wall_8php.html#ab00da9d5d8bd5b6b944793e093860aff">$h</a>,$ox,$oy, $inicr,$inicg,$inicb, $inbcr,$inbcg,$inbcb, $forcerender, $forceheight) {
<a name="l00126"></a>00126     echo <a class="code" href="lib_8images_8php.html#a6abdd7a0df8f66716fbcc3b2685f4f19">lib_images_text_rt</a>( $text, $font,$fontsize, <a class="code" href="video__wall_8php.html#a7baa3e54d17390d4a3dbc0ee84e4c155">$w</a>,<a class="code" href="video__wall_8php.html#ab00da9d5d8bd5b6b944793e093860aff">$h</a>,$ox,$oy, $inicr,$inicg,$inicb, $inbcr,$inbcg,$inbcb, $forcerender, $forceheight);
<a name="l00127"></a>00127 }
<a name="l00128"></a><a class="code" href="lib_8images_8php.html#a6abdd7a0df8f66716fbcc3b2685f4f19">00128</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a6abdd7a0df8f66716fbcc3b2685f4f19">lib_images_text_rt</a>( $text, $font,$fontsize, <a class="code" href="video__wall_8php.html#a7baa3e54d17390d4a3dbc0ee84e4c155">$w</a>,<a class="code" href="video__wall_8php.html#ab00da9d5d8bd5b6b944793e093860aff">$h</a>,$ox,$oy, $inicr,$inicg,$inicb, $inbcr,$inbcg,$inbcb, $forcerender, $forceheight) { eval(<a class="code" href="lib_8rfs_8php.html#acffda4746c06a226d1b11dca941bcfe1">lib_rfs_get_globals</a>());
<a name="l00129"></a>00129     $rt=<span class="stringliteral">&quot;&lt;img src=\&quot;$RFS_SITE_URL/include/generate.image.php/$text.png?action=showfont&amp;font=$font&amp;otext=$text&amp;text_size=$fontsize&amp;owidth=$w&amp;oheight=$h&amp;offx=$ox&amp;offy=$oy&amp;icr=$inicr&amp;icg=$inicg&amp;icb=$inicb&amp;bcr=$inbcr&amp;bcg=$inbcg&amp;bcb=$inbcb&amp;forcerender=$forcerender&amp;forceheight=$forceheight\&quot; border=&#39;0&#39; alt=&#39;$text&#39; &gt;&quot;</span>;
<a name="l00130"></a>00130     <span class="keywordflow">return</span> $rt;
<a name="l00131"></a>00131 }
<a name="l00132"></a><a class="code" href="lib_8images_8php.html#a540383be313a149507b1932b04c74609">00132</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a540383be313a149507b1932b04c74609">lib_images_text_small_raw</a>($text,$font) { eval(<a class="code" href="lib_8rfs_8php.html#acffda4746c06a226d1b11dca941bcfe1">lib_rfs_get_globals</a>());
<a name="l00133"></a>00133     <span class="keywordflow">return</span> <span class="stringliteral">&quot;$RFS_SITE_URL/include/generate.image.php/$text.png?action=showfont&amp;font=$font&amp;otext=$text&amp;text_size=16&amp;icr=255&amp;icg=255&amp;icb=255&amp;bcr=0&amp;bcg=0&amp;bcb=0&amp;forcerender=1&quot;</span>;
<a name="l00134"></a>00134 }
<a name="l00135"></a><a class="code" href="lib_8images_8php.html#a0d112d920209039d3cdd9258d5e17e47">00135</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#a0d112d920209039d3cdd9258d5e17e47">lib_images_percent_bar</a>($percent){ eval(<a class="code" href="lib_8rfs_8php.html#acffda4746c06a226d1b11dca941bcfe1">lib_rfs_get_globals</a>());
<a name="l00136"></a>00136     echo <span class="stringliteral">&quot;&lt;img src=\&quot;$RFS_SITE_URL/include/percentage_bar.php?per=$percent\&quot; alt=\&quot;$percent %\&quot; /&gt; &quot;</span>;
<a name="l00137"></a>00137 }
<a name="l00138"></a><a class="code" href="lib_8images_8php.html#ac2a22e95cd54a6eeadf8ca8aa59787cd">00138</a> <span class="keyword">function</span> <a class="code" href="lib_8images_8php.html#ac2a22e95cd54a6eeadf8ca8aa59787cd">lib_images_webpage_to_png</a>($webpage) { eval(<a class="code" href="lib_8rfs_8php.html#acffda4746c06a226d1b11dca941bcfe1">lib_rfs_get_globals</a>());
<a name="l00139"></a>00139     $md5=md5($webpage);
<a name="l00140"></a>00140     system(<span class="stringliteral">&quot;wkhtmltopdf &#39;$webpage&#39; $RFS_SITE_PATH/tmp/$md5.pdf&quot;</span>);
<a name="l00141"></a>00141     system(<span class="stringliteral">&quot;convert $RFS_SITE_PATH/tmp/$md5.pdf -append $RFS_SITE_PATH/tmp/$md5.png&quot;</span>);
<a name="l00142"></a>00142     <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>=<span class="stringliteral">&quot;$RFS_SITE_URL/tmp/$md5.png&quot;</span>;
<a name="l00143"></a>00143     <span class="keywordflow">return</span> <a class="code" href="sp_8php.html#a8abe176bc41afd728f32ba8c506cbd98">$r</a>;
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 ?&gt;
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="lib_8images_8php.html">lib.images.php</a>      </li>

    <li class="footer">Generated on Tue Mar 18 2014 03:33:39 for RFSCMSAPIDocumentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
